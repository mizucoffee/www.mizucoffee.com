---
layout: post
title: ブログを引っ越しました&テーマが死にました
date: 2019-07-30 01:53:00 +0900
categories: [雑記]
tags: []
redirect-from: /archives/19
---

こんにちは、水珈琲です。  
本格的にブログを運用しようと思ったのですが、従来の方法だと長期的に管理するのが難しいことに気づきました。  
ということで、改めてブログの環境を作り直して本気でやっていこうかな！と思っています。

書きたいことが色々ありまして、記念すべき1本目は何を書こうかな〜と思っていたら、WordPressの自作テーマが全然使えなくなっていました。急遽それに関する記事を書こうと思います...悲しい。1本目これかよ。

## 引っ越しについて

まず、引っ越した理由についてお話したいと思います。  
今まで、www.mizucoffee.netというドメインでブログを運用していました。しかし、これはかなりややこしい環境の上で動作していました。

mizucoffee.netというドメインは、すべてのサブドメインが自宅にあるリバースプロキシを経由することを前提として設計しています。

しかし、WordPressはリバースプロキシを挟むことを想定したプログラムではありませんでした。今までは無理やり動くような状態にして運用していましたが、これ以上続けるのは難しいと判断しました。

また、Docker上で運用していたのもややこしさに拍車をかけていました。Docker上だとプラグインやWordPress本体の更新をするのが非常に面倒くさい（管理画面から出来ない）という大きな問題を抱えており、更新が出来てない為に悪意のあるコードが埋め込まれてしまいページを開いただけで外部のサイトに転送される状態になってしまっていました。

当サイトが原因で他人に被害が出る可能性も少なからずあった為、新しいドメインを取りしっかりとした環境でブログを始めようと思ったというのが今回の引越しです。（従来のドメインはまた別の用途に使います）

今回の環境はConoHa KUSANAGIテンプレートを使用しています。KUSANAGI使いやすくて良いですね！

## テーマが死にました

先程書いた通り、今までのサイトは更新が出来ていませんでした。

その為旧バージョンであるWordPress 4を使い続けていたのですが、今回新しい環境を構築するにあたってWordPress 4からWordPress 5に更新しました。

なんと、WordPress 5ではテーマの仕組みが少し変わっているようで、今までと同じテーマファイルでは記事がうまく表示できませんでした。

なので、既製テーマを少しカスタマイズして使うことにしました...

## 最後に

開幕から骨を折られるような状況にはなっていますが、ゆっくりいい感じにしていきたいと思います。

今回のブログの目標は「1日1記事」です！何日続くか分からないですが頑張ってみます。  
「なぜ真面目にブログを始めようと思ったか」というのはまた別の記事にしたいと思います。